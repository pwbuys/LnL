import{a as N}from"./chunk-X2MT6UCR.js";import{a as S,b as u,c as _,d as C,e as T,f as x,i as M,j as k,k as P,l as O,m as E,n as w}from"./chunk-6Z5YC7IV.js";import"./chunk-4USDWUO2.js";import{E as g,F as b,J as m,K as t,L as r,M as f,R as c,T as v,Z as n,aa as p,j as l,ja as y,v as o,y as h}from"./chunk-BRS2FBVW.js";import"./chunk-2NFLSA4Y.js";function D(d,s){if(d&1&&(t(0,"span",9),n(1),r()),d&2){let i=v();o(),p(" Speed threshold must be between ",i.minThreshold,"ms and ",i.maxThreshold,"ms ")}}var z=class d{fb=l(E);settingsService=l(N);router=l(y);form;minThreshold=this.settingsService.getMinSpeedThreshold();maxThreshold=this.settingsService.getMaxSpeedThreshold();currentThreshold=this.settingsService.speedThresholdMs;currentThresholdSeconds=()=>Math.round(this.currentThreshold()/1e3);constructor(){let s=this.settingsService.getSettings();this.form=this.fb.group({speedThreshold:[s.speedThresholdMs,[u.required,u.min(this.minThreshold),u.max(this.maxThreshold)]]})}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}let s=this.form.get("speedThreshold")?.value;this.settingsService.saveSettings({speedThresholdMs:s}),this.router.navigate(["/math"])}goBack(){this.router.navigate(["/math"])}static \u0275fac=function(i){return new(i||d)};static \u0275cmp=h({type:d,selectors:[["app-settings"]],decls:21,vars:9,consts:[[1,"settings"],[1,"header"],["type","button","aria-label","Go back",1,"back-button",3,"click"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","speedThreshold",1,"label"],[1,"hint"],["id","speedThreshold","type","number","formControlName","speedThreshold","aria-required","true","aria-describedby","speedThresholdError speedThresholdHint",1,"input",3,"min","max"],["id","speedThresholdHint",1,"hint"],["id","speedThresholdError",1,"error"],[1,"form-actions"],["type","button",1,"cancel-button",3,"click"],["type","submit",1,"submit-button",3,"disabled"]],template:function(i,e){if(i&1&&(t(0,"div",0)(1,"header",1)(2,"button",2),c("click",function(){return e.goBack()}),n(3," \u2190 Back "),r(),t(4,"h1"),n(5,"Settings"),r()(),t(6,"form",3),c("ngSubmit",function(){return e.onSubmit()}),t(7,"div",4)(8,"label",5),n(9," Speed Threshold (milliseconds) "),r(),t(10,"p",6),n(11),r(),f(12,"input",7),t(13,"span",8),n(14),r(),g(15,D,2,2,"span",9),r(),t(16,"div",10)(17,"button",11),c("click",function(){return e.goBack()}),n(18," Cancel "),r(),t(19,"button",12),n(20," Save Settings "),r()()()()),i&2){let a;o(6),m("formGroup",e.form),o(5),p(' Answers must be entered within this time to be considered "fast". Current: ',e.currentThreshold(),"ms (",e.currentThresholdSeconds(),"s) "),o(),m("min",e.minThreshold)("max",e.maxThreshold),o(2),p(" Range: ",e.minThreshold,"ms - ",e.maxThreshold,"ms "),o(),b((a=e.form.get("speedThreshold"))!=null&&a.invalid&&((a=e.form.get("speedThreshold"))!=null&&a.touched)?15:-1),o(4),m("disabled",e.form.invalid)}},dependencies:[w,T,S,x,_,C,O,P,k,M],styles:[".settings[_ngcontent-%COMP%]{min-height:100vh;padding:1rem;background:var(--bg-primary, #fff);color:var(--text-primary, #333);max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.back-button[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--link-color, #4caf50);font-size:1rem;cursor:pointer;padding:.5rem 0;margin-bottom:1rem;min-height:44px}.back-button[_ngcontent-%COMP%]:hover{text-decoration:underline}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.75rem,4vw,2.5rem);margin:0;color:var(--text-primary, #333)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.label[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--text-primary, #333)}.hint[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #666);margin:0}.input[_ngcontent-%COMP%]{width:100%;padding:.75rem;font-size:1rem;border:2px solid var(--input-border, #ccc);border-radius:.5rem;background:var(--input-bg, #fff);color:var(--text-primary, #333);min-height:44px}.input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--input-focus-border, #4caf50)}.error[_ngcontent-%COMP%]{font-size:.875rem;color:var(--error-color, #f44336)}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.cancel-button[_ngcontent-%COMP%], .submit-button[_ngcontent-%COMP%]{flex:1;padding:.75rem 1.5rem;font-size:1rem;font-weight:600;border-radius:.5rem;cursor:pointer;min-height:44px;border:2px solid;transition:all .2s ease}.cancel-button[_ngcontent-%COMP%]{background:transparent;color:var(--text-primary, #333);border-color:var(--button-secondary-border, #ccc)}.cancel-button[_ngcontent-%COMP%]:hover{background:var(--button-secondary-bg, #f0f0f0)}.submit-button[_ngcontent-%COMP%]{background:var(--button-primary-bg, #4caf50);color:var(--button-primary-text, #fff);border-color:var(--button-primary-border, #45a049)}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--button-primary-hover, #45a049)}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media(prefers-color-scheme:dark){.settings[_ngcontent-%COMP%]{--bg-primary: #1a1a1a;--text-primary: #fff;--text-secondary: #aaa;--input-bg: #2a2a2a;--input-border: #444;--input-focus-border: #4caf50;--button-secondary-bg: #333;--button-secondary-border: #555;--link-color: #4caf50;--error-color: #f44336;--button-primary-bg: #4caf50;--button-primary-hover: #45a049;--button-primary-border: #45a049;--button-primary-text: #fff}}"],changeDetection:0})};export{z as SettingsComponent};
