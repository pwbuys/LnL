import{a as I}from"./chunk-QDXSJC2J.js";import{a as V}from"./chunk-OHXTROUX.js";import{a as D}from"./chunk-O75NO46C.js";import{a as L}from"./chunk-PDHAO4X2.js";import"./chunk-WHULS3JR.js";import"./chunk-NHPTLCVL.js";import{a as F}from"./chunk-WDXSJPWS.js";import{$ as w,D as _,E as x,F as h,I as k,J as M,K as C,L as o,M as r,N as P,R as S,S as g,U as d,Z as u,_ as a,aa as y,j as f,k as p,l as m,la as T,ma as E,o as v,v as s,y as O}from"./chunk-FYXY47SE.js";import"./chunk-2NFLSA4Y.js";var $=(l,t)=>t.id;function j(l,t){l&1&&(o(0,"p",9),a(1,"No sight word sets available. Create one to get started!"),r())}function z(l,t){l&1&&(o(0,"span",33),a(1,"\u{1F512}"),r())}function U(l,t){if(l&1){let e=S();o(0,"button",32),g("click",function(){let n=p(e).$implicit,c=d(4);return m(c.selectLevel(n.id))}),x(1,z,2,0,"span",33),o(2,"span",34),a(3),r(),o(4,"span",35),a(5),r()()}if(l&2){let e=t.$implicit,i=d(2).$implicit,n=d(2);u("selected",n.selectedLevel()===e.id)("ninja",e.id==="ninja")("locked",!n.isLevelUnlocked(i.id,e.id)),C("disabled",!n.isLevelUnlocked(i.id,e.id)),_("aria-label",n.getLevelAriaLabel(i.id,e)),s(),h(n.isLevelUnlocked(i.id,e.id)?-1:1),s(2),w(e.name),s(2),y("",e.speedThresholdMs/1e3,"s")}}function N(l,t){if(l&1){let e=S();o(0,"div",17)(1,"div",22)(2,"h3",23),a(3,"Select Mode"),r(),o(4,"div",24)(5,"button",25),g("click",function(){p(e);let n=d(3);return m(n.selectMode("master"))}),a(6," Master "),r(),o(7,"button",26),g("click",function(){p(e);let n=d(3);return m(n.selectTimedMode(30))}),a(8," 30s "),r(),o(9,"button",27),g("click",function(){p(e);let n=d(3);return m(n.selectTimedMode(60))}),a(10," 60s "),r(),o(11,"button",28),g("click",function(){p(e);let n=d(3);return m(n.selectTimedMode(90))}),a(12," 90s "),r()()(),o(13,"div",22)(14,"h3",23),a(15,"Select Level"),r(),o(16,"div",29),k(17,U,6,11,"button",30,$),r()(),o(19,"button",31),g("click",function(){p(e);let n=d().$implicit,c=d(2);return m(c.startExercise(n.id))}),a(20," Start "),r()()}if(l&2){let e=d(3);s(5),u("selected",e.selectedMode()==="master"),s(2),u("selected",e.selectedMode()==="timed"&&e.selectedTimedDuration()===30),s(2),u("selected",e.selectedMode()==="timed"&&e.selectedTimedDuration()===60),s(2),u("selected",e.selectedMode()==="timed"&&e.selectedTimedDuration()===90),s(6),M(e.levels),s(2),C("disabled",!e.canStart())}}function A(l,t){if(l&1){let e=S();o(0,"div",11)(1,"button",12),g("click",function(){let n=p(e).$implicit,c=d(2);return m(c.toggleSetExpansion(n.id))}),o(2,"div",13)(3,"h2",14),a(4),r(),o(5,"span",15),a(6),r()(),P(7,"app-progress-indicator",16),r(),x(8,N,21,9,"div",17),o(9,"div",18)(10,"button",19),g("click",function(n){let c=p(e).$implicit,b=d(2);return m(b.resetProgress(c.id,n))}),a(11," \u21BB "),r(),o(12,"button",20),g("click",function(n){let c=p(e).$implicit,b=d(2);return m(b.editSet(c.id,n))}),a(13," \u270E "),r(),o(14,"button",21),g("click",function(n){let c=p(e).$implicit,b=d(2);return m(b.deleteSet(c.id,n))}),a(15," \u2715 "),r()()()}if(l&2){let e=t.$implicit,i=d(2);u("expanded",i.expandedSetId()===e.id),s(),_("aria-label","Select "+e.name)("aria-expanded",i.expandedSetId()===e.id),s(3),w(e.name),s(2),y("",e.cards.length," words"),s(),C("cards",i.getCardsWithProgress(e))("setId",e.id)("appType","sight-word"),s(),h(i.expandedSetId()===e.id?8:-1),s(2),_("aria-label","Reset progress for "+e.name),s(2),_("aria-label","Edit "+e.name),s(2),_("aria-label","Delete "+e.name)}}function R(l,t){if(l&1&&k(0,A,16,13,"div",10,$),l&2){let e=d();M(e.availableSets())}}var W=class l{sightWordStateService=f(I);sightWordProgressService=f(L);router=f(T);availableSets=this.sightWordStateService.availableSets;levels=F;expandedSetId=v(null);selectedMode=v(null);selectedTimedDuration=v(null);selectedLevel=v(null);getCardsWithProgress(t){return this.sightWordStateService.getCardsWithProgress(t)}toggleSetExpansion(t){this.expandedSetId()===t?(this.expandedSetId.set(null),this.resetSelections()):(this.expandedSetId.set(t),this.selectedMode.set("master"),this.selectedTimedDuration.set(null),this.selectedLevel.set("level1"))}selectMode(t){this.selectedMode.set(t),t==="master"&&this.selectedTimedDuration.set(null)}selectTimedMode(t){this.selectedMode.set("timed"),this.selectedTimedDuration.set(t)}selectLevel(t){let e=this.expandedSetId();e&&this.isLevelUnlocked(e,t)&&this.selectedLevel.set(t)}isLevelUnlocked(t,e){return this.sightWordProgressService.isLevelUnlocked(t,e)}getLevelAriaLabel(t,e){let i=this.isLevelUnlocked(t,e.id),n=`${e.name} - ${e.speedThresholdMs/1e3} seconds`;return i?n:`${n} (locked - complete previous level first)`}canStart(){let t=this.selectedMode(),e=this.selectedLevel();return!(!t||!e||t==="timed"&&!this.selectedTimedDuration())}startExercise(t){if(!this.canStart())return;let e=this.selectedMode(),i=this.selectedLevel(),n=this.selectedTimedDuration()??void 0;this.sightWordStateService.setCurrentSet(t),this.sightWordStateService.setExerciseOptions(e,i,n),this.router.navigate(["/afrikaans/sigwoorde/exercise",t])}resetSelections(){this.selectedMode.set(null),this.selectedTimedDuration.set(null),this.selectedLevel.set(null)}editSet(t,e){e.stopPropagation(),this.router.navigate(["/afrikaans/sigwoorde/edit",t])}deleteSet(t,e){e.stopPropagation();let i=this.availableSets().find(n=>n.id===t);i&&confirm(`Are you sure you want to delete "${i.name}"? This action cannot be undone.`)&&this.sightWordStateService.deleteSet(t)}resetProgress(t,e){e.stopPropagation();let i=this.availableSets().find(n=>n.id===t);i&&confirm(`Are you sure you want to reset all progress for "${i.name}"? This will clear all statistics and weights for this set.`)&&this.sightWordStateService.resetSetProgress(t)}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=O({type:l,selectors:[["app-afrikaans-set-selection"]],decls:17,vars:1,consts:[[1,"set-selection"],[1,"header"],[1,"header-top"],[1,"header-left"],["routerLink","/","aria-label","Go to home page",1,"home-link"],[1,"subtitle"],[1,"nav"],["routerLink","/afrikaans/sigwoorde/create",1,"nav-link"],[1,"sets-container"],[1,"empty-state"],[1,"set-card-wrapper",3,"expanded"],[1,"set-card-wrapper"],["type","button",1,"set-card",3,"click"],[1,"set-card-header"],[1,"set-name"],[1,"set-count"],[3,"cards","setId","appType"],["role","region","aria-label","Exercise options",1,"expansion-panel"],[1,"set-actions"],["type","button","title","Reset progress",1,"reset-button",3,"click"],["type","button","title","Edit set",1,"edit-button",3,"click"],["type","button","title","Delete set",1,"delete-button",3,"click"],[1,"option-section"],[1,"option-label"],[1,"option-buttons"],["type","button","aria-label","Master mode",1,"option-button",3,"click"],["type","button","aria-label","Timed mode 30 seconds",1,"option-button",3,"click"],["type","button","aria-label","Timed mode 60 seconds",1,"option-button",3,"click"],["type","button","aria-label","Timed mode 90 seconds",1,"option-button",3,"click"],[1,"option-buttons","levels"],["type","button",1,"option-button","level-button",3,"selected","ninja","locked","disabled"],["type","button","aria-label","Start exercise",1,"start-button",3,"click","disabled"],["type","button",1,"option-button","level-button",3,"click","disabled"],["aria-hidden","true",1,"lock-icon"],[1,"level-name"],[1,"level-time"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"a",4),a(5,"\u2190 Home"),r(),o(6,"h1"),a(7,"Afrikaans Sigwoorde"),r()(),P(8,"app-user-selector"),r(),o(9,"p",5),a(10,"Select a set to practice"),r()(),o(11,"nav",6)(12,"a",7),a(13,"Create New Set"),r()(),o(14,"div",8),x(15,j,2,0,"p",9)(16,R,2,0),r()()),e&2&&(s(15),h(i.availableSets().length===0?15:16))},dependencies:[E,D,V],styles:[".set-selection[_ngcontent-%COMP%]{min-height:100vh;min-height:100dvh;padding:1rem;background:var(--bg-primary, #fff);color:var(--text-primary, #333)}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;gap:1rem}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1;min-width:0}.home-link[_ngcontent-%COMP%]{padding:.5rem 1rem;background:var(--home-link-bg, #f0f0f0);color:var(--home-link-text, #333);text-decoration:none;border-radius:.5rem;font-size:.875rem;font-weight:600;transition:background .2s ease;white-space:nowrap;min-height:44px;display:inline-flex;align-items:center}.home-link[_ngcontent-%COMP%]:hover{background:var(--home-link-hover, #e0e0e0)}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2rem,5vw,3rem);margin:0;color:var(--text-primary, #333);flex:1;min-width:0}.subtitle[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);color:var(--text-secondary, #666);margin:0}.nav[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin-bottom:2rem;flex-wrap:wrap}.nav-link[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:var(--app-afrikaans-accent, #FF9800);color:var(--button-text, #fff);text-decoration:none;border-radius:.5rem;font-weight:600;transition:background .2s ease;min-height:44px;display:inline-flex;align-items:center}.nav-link[_ngcontent-%COMP%]:hover{background:var(--app-afrikaans-accent-hover, #F57C00)}.sets-container[_ngcontent-%COMP%]{display:grid;gap:1rem;max-width:600px;margin:0 auto}.set-card-wrapper[_ngcontent-%COMP%]{position:relative}.set-card[_ngcontent-%COMP%]{width:100%;padding:1.5rem;background:var(--card-bg, #f9f9f9);border:2px solid var(--card-border, #e0e0e0);border-radius:.75rem;text-align:left;cursor:pointer;transition:all .2s ease;min-height:44px}.set-card[_ngcontent-%COMP%]:hover{border-color:var(--app-afrikaans-accent, #FF9800);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.set-card[_ngcontent-%COMP%]:active{transform:translateY(0)}.set-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.set-name[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,1.5rem);margin:0;color:var(--text-primary, #333)}.set-count[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #666);background:var(--badge-bg, #e0e0e0);padding:.25rem .75rem;border-radius:1rem}.set-actions[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;display:flex;gap:.5rem;z-index:10}.reset-button[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{width:32px;height:32px;border:none;color:#fff;border-radius:50%;cursor:pointer;font-size:1.25rem;display:flex;align-items:center;justify-content:center;line-height:1;transition:all .2s ease}.reset-button[_ngcontent-%COMP%]{background:var(--reset-bg, #ff9800)}.reset-button[_ngcontent-%COMP%]:hover{background:var(--reset-hover, #f57c00);transform:scale(1.1)}.reset-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.edit-button[_ngcontent-%COMP%]{background:var(--edit-bg, #2196f3)}.edit-button[_ngcontent-%COMP%]:hover{background:var(--edit-hover, #1976d2);transform:scale(1.1)}.edit-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.delete-button[_ngcontent-%COMP%]{background:var(--delete-bg, #f44336)}.delete-button[_ngcontent-%COMP%]:hover{background:var(--delete-hover, #d32f2f);transform:scale(1.1)}.delete-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:var(--text-secondary, #666);font-size:1.125rem}.set-card-wrapper.expanded[_ngcontent-%COMP%]   .set-card[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:none}.expansion-panel[_ngcontent-%COMP%]{background:var(--card-bg, #f9f9f9);border:2px solid var(--card-border, #e0e0e0);border-top:none;border-radius:0 0 .75rem .75rem;padding:1.5rem;display:flex;flex-direction:column;gap:1.5rem}.option-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.option-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--text-secondary, #666);margin:0;text-transform:uppercase;letter-spacing:.05em}.option-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.option-buttons.levels[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.option-button[_ngcontent-%COMP%]{flex:1;min-width:60px;padding:.75rem 1rem;border:2px solid var(--option-border, #ccc);background:var(--option-bg, #fff);color:var(--text-primary, #333);border-radius:.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;min-height:44px}.option-button[_ngcontent-%COMP%]:hover{border-color:var(--app-afrikaans-accent, #FF9800);background:var(--option-hover-bg, #fff3e0)}.option-button.selected[_ngcontent-%COMP%]{border-color:var(--app-afrikaans-accent, #FF9800);background:var(--app-afrikaans-accent, #FF9800);color:var(--option-selected-text, #fff)}.level-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.75rem}.level-name[_ngcontent-%COMP%]{font-weight:700}.level-time[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8}.level-button.ninja[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a1a,#333);border-color:#1a1a1a;color:#fff}.level-button.ninja[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#333,#444);border-color:#444}.level-button.ninja.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000,#1a1a1a);border-color:var(--app-afrikaans-accent, #FF9800);box-shadow:0 0 0 2px var(--app-afrikaans-accent, #FF9800)}.level-button.locked[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;position:relative}.level-button.locked[_ngcontent-%COMP%]:hover{border-color:var(--option-border, #ccc);background:var(--option-bg, #fff)}.level-button.ninja.locked[_ngcontent-%COMP%], .level-button.ninja.locked[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2a2a2a,#444)}.lock-icon[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;font-size:.75rem}.start-button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:var(--app-afrikaans-accent, #FF9800);color:var(--start-text, #fff);border:none;border-radius:.5rem;font-size:1.25rem;font-weight:700;cursor:pointer;transition:all .2s ease;min-height:56px;text-transform:uppercase;letter-spacing:.1em}.start-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--app-afrikaans-accent-hover, #F57C00);transform:translateY(-2px);box-shadow:0 4px 12px #ff98004d}.start-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media(prefers-color-scheme:dark){.set-selection[_ngcontent-%COMP%]{--bg-primary: #1a1a1a;--text-primary: #fff;--text-secondary: #aaa;--card-bg: #2a2a2a;--card-border: #444;--card-hover-border: var(--app-afrikaans-accent, #FF9800);--button-text: #fff;--badge-bg: #444;--edit-bg: #2196f3;--edit-hover: #1976d2;--delete-bg: #f44336;--delete-hover: #d32f2f;--reset-bg: #ff9800;--reset-hover: #f57c00;--home-link-bg: #333;--home-link-text: #fff;--home-link-hover: #444;--option-bg: #333;--option-border: #555;--option-hover-bg: #3a3a3a;--option-hover-border: var(--app-afrikaans-accent, #FF9800);--option-selected-text: #fff;--start-text: #fff}}"],changeDetection:0})};export{W as SetSelectionComponent};
