import{b as E}from"./chunk-MNR4JMD7.js";import"./chunk-4USDWUO2.js";import{$ as f,E as u,F as g,H as x,I as y,N as t,O as e,S as p,T as v,Z as r,_ as s,ca as m,j as l,ja as S,v as i,y as b}from"./chunk-BRS2FBVW.js";import"./chunk-2NFLSA4Y.js";var h=(a,n)=>n.id;function C(a,n){if(a&1&&(t(0,"li",18)(1,"span",19),r(2),e(),t(3,"span",20),r(4),e()()),a&2){let o=n.$implicit;i(2),s(o.question),i(2),f("Weight: ",o.weight)}}function w(a,n){if(a&1&&(t(0,"div",15)(1,"h2"),r(2,"Needs Work On:"),e(),t(3,"ul",17),x(4,C,5,2,"li",18,h),e()()),a&2){let o=v(2);i(4),y(o.cardsNeedingWork())}}function M(a,n){a&1&&(t(0,"div",16)(1,"p"),r(2,"\u{1F389} Great job! All cards are mastered!"),e()())}function P(a,n){if(a&1&&(t(0,"div",6)(1,"div",7)(2,"div",8),r(3,"Total Questions"),e(),t(4,"div",9),r(5),e()(),t(6,"div",7)(7,"div",8),r(8,"Correct Answers"),e(),t(9,"div",10),r(10),e()(),t(11,"div",7)(12,"div",8),r(13,"Fast Answers"),e(),t(14,"div",11),r(15),e()(),t(16,"div",7)(17,"div",8),r(18,"Slow Answers"),e(),t(19,"div",12),r(20),e()(),t(21,"div",7)(22,"div",8),r(23,"Incorrect Answers"),e(),t(24,"div",13),r(25),e()(),t(26,"div",7)(27,"div",8),r(28,"Average Time"),e(),t(29,"div",9),r(30),e()(),t(31,"div",14)(32,"div",8),r(33,"Accuracy"),e(),t(34,"div",9),r(35),e()()(),u(36,w,6,0,"div",15)(37,M,3,0,"div",16)),a&2){let o=v();i(5),s(o.sessionStats().totalQuestions),i(5),s(o.sessionStats().correctAnswers),i(5),s(o.sessionStats().fastAnswers),i(5),s(o.sessionStats().slowAnswers),i(5),s(o.sessionStats().incorrectAnswers),i(5),s(o.averageTimeFormatted()),i(5),f("",o.accuracyPercentage(),"%"),i(),g(o.cardsNeedingWork().length>0?36:37)}}function O(a,n){a&1&&(t(0,"div",2)(1,"p"),r(2,"No session statistics available."),e()())}var _=class a{mathStateService=l(E);router=l(S);sessionStats=this.mathStateService.currentSessionStats;currentSet=this.mathStateService.currentSet;accuracyPercentage=m(()=>{let n=this.sessionStats();return!n||n.totalQuestions===0?0:Math.round(n.correctAnswers/n.totalQuestions*100)});averageTimeFormatted=m(()=>{let n=this.sessionStats();return n?`${Math.round(n.averageTimeMs/1e3)}s`:"0s"});cardsNeedingWork=m(()=>{let n=this.currentSet();return n?this.mathStateService.getCardsWithProgress(n).filter(d=>d.weight>1).sort((d,c)=>c.weight-d.weight).slice(0,10):[]});startNewSession(){let n=this.currentSet();n?(this.mathStateService.startSession(),this.router.navigate(["/math/exercise",n.id])):this.router.navigate(["/math"])}goToSets(){this.router.navigate(["/math"])}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=b({type:a,selectors:[["app-summary"]],decls:11,vars:1,consts:[[1,"summary"],[1,"header"],[1,"no-stats"],[1,"actions"],["type","button",1,"action-button","action-button-primary",3,"click"],["type","button",1,"action-button","action-button-secondary",3,"click"],[1,"stats-container"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"stat-value","stat-correct"],[1,"stat-value","stat-fast"],[1,"stat-value","stat-slow"],[1,"stat-value","stat-incorrect"],[1,"stat-card","stat-card-full"],[1,"needs-work-section"],[1,"all-mastered"],[1,"needs-work-list"],[1,"needs-work-item"],[1,"card-question"],[1,"card-weight"]],template:function(o,d){o&1&&(t(0,"div",0)(1,"header",1)(2,"h1"),r(3,"Session Summary"),e()(),u(4,P,38,8)(5,O,3,0,"div",2),t(6,"div",3)(7,"button",4),p("click",function(){return d.startNewSession()}),r(8," Start New Session "),e(),t(9,"button",5),p("click",function(){return d.goToSets()}),r(10," Back to Sets "),e()()()),o&2&&(i(4),g(d.sessionStats()?4:5))},styles:[".summary[_ngcontent-%COMP%]{min-height:100vh;padding:1rem;background:var(--bg-primary, #fff);color:var(--text-primary, #333);max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2rem,5vw,3rem);margin:0;color:var(--text-primary, #333)}.stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{padding:1.5rem;background:var(--card-bg, #f9f9f9);border:2px solid var(--card-border, #e0e0e0);border-radius:.75rem;text-align:center}.stat-card-full[_ngcontent-%COMP%]{grid-column:1/-1}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #666);margin-bottom:.5rem}.stat-value[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2.5rem);font-weight:700;color:var(--text-primary, #333)}.stat-correct[_ngcontent-%COMP%]{color:var(--success-color, #4caf50)}.stat-fast[_ngcontent-%COMP%]{color:var(--fast-color, #2196f3)}.stat-slow[_ngcontent-%COMP%]{color:var(--slow-color, #ff9800)}.stat-incorrect[_ngcontent-%COMP%]{color:var(--error-color, #f44336)}.needs-work-section[_ngcontent-%COMP%]{margin-bottom:2rem}.needs-work-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,1.75rem);margin:0 0 1rem;color:var(--text-primary, #333)}.needs-work-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.75rem}.needs-work-item[_ngcontent-%COMP%]{padding:1rem;background:var(--card-bg, #f9f9f9);border:2px solid var(--card-border, #e0e0e0);border-radius:.5rem;display:flex;justify-content:space-between;align-items:center}.card-question[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--text-primary, #333)}.card-weight[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #666);background:var(--badge-bg, #e0e0e0);padding:.25rem .75rem;border-radius:1rem}.all-mastered[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--success-bg, #e8f5e9);border:2px solid var(--success-border, #4caf50);border-radius:.75rem;margin-bottom:2rem}.all-mastered[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--success-color, #2e7d32);margin:0}.no-stats[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:var(--text-secondary, #666)}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:2rem}.action-button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.5rem;font-size:1rem;font-weight:600;border-radius:.5rem;cursor:pointer;min-height:44px;border:2px solid;transition:all .2s ease}.action-button-primary[_ngcontent-%COMP%]{background:var(--button-primary-bg, #4caf50);color:var(--button-primary-text, #fff);border-color:var(--button-primary-border, #45a049)}.action-button-primary[_ngcontent-%COMP%]:hover{background:var(--button-primary-hover, #45a049)}.action-button-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-primary, #333);border-color:var(--button-secondary-border, #ccc)}.action-button-secondary[_ngcontent-%COMP%]:hover{background:var(--button-secondary-bg, #f0f0f0)}@media(prefers-color-scheme:dark){.summary[_ngcontent-%COMP%]{--bg-primary: #1a1a1a;--text-primary: #fff;--text-secondary: #aaa;--card-bg: #2a2a2a;--card-border: #444;--badge-bg: #444;--success-bg: #1b5e20;--success-border: #4caf50;--success-color: #4caf50;--fast-color: #2196f3;--slow-color: #ff9800;--error-color: #f44336;--button-primary-bg: #4caf50;--button-primary-hover: #45a049;--button-primary-border: #45a049;--button-primary-text: #fff;--button-secondary-border: #555;--button-secondary-bg: #333}}"],changeDetection:0})};export{_ as SummaryComponent};
