import{a as O}from"./chunk-QDXSJC2J.js";import{a as k}from"./chunk-PDHAO4X2.js";import{a as l,b as P}from"./chunk-WDXSJPWS.js";import{$ as d,E as g,F as u,I as y,J as h,O as n,P as o,R as w,T as x,U as v,Z as S,_ as r,aa as f,ea as m,j as p,k as _,l as E,la as M,v as a,y as C}from"./chunk-FYXY47SE.js";import"./chunk-2NFLSA4Y.js";var N=(i,t)=>t.id;function T(i,t){if(i&1&&(n(0,"div",2)(1,"span",8),r(2),o(),n(3,"span",9),r(4),o()()),i&2){let e=v();a(),S("timed",e.isTimedMode()),a(),f(" ",e.isTimedMode()?"Timed":"Master"," "),a(),S("ninja",e.sessionStats().level==="ninja"),a(),f(" ",e.levelName()," ")}}function W(i,t){if(i&1&&(n(0,"div",10)(1,"div",22),r(2),o(),n(3,"div",23),r(4),o()()),i&2){let e=v(2);a(2),d(e.sessionStats().correctAnswers),a(2),f("correct words in ",e.sessionStats().timedDuration,"s")}}function L(i,t){if(i&1&&(n(0,"li",25)(1,"span",26),r(2),o(),n(3,"span",27),r(4),o()()),i&2){let e=t.$implicit;a(2),d(e.word),a(2),f("Weight: ",e.weight)}}function A(i,t){if(i&1&&(n(0,"div",20)(1,"h2"),r(2,"Needs Work On:"),o(),n(3,"ul",24),y(4,L,5,2,"li",25,N),o()()),i&2){let e=v(2);a(4),h(e.wordsNeedingWork())}}function z(i,t){i&1&&(n(0,"div",21)(1,"p"),r(2,"Great job! All words are mastered!"),o()())}function D(i,t){if(i&1&&(g(0,W,5,2,"div",10),n(1,"div",11)(2,"div",12)(3,"div",13),r(4,"Total Words"),o(),n(5,"div",14),r(6),o()(),n(7,"div",12)(8,"div",13),r(9,"Correct Answers"),o(),n(10,"div",15),r(11),o()(),n(12,"div",12)(13,"div",13),r(14,"Fast Answers"),o(),n(15,"div",16),r(16),o()(),n(17,"div",12)(18,"div",13),r(19,"Slow Answers"),o(),n(20,"div",17),r(21),o()(),n(22,"div",12)(23,"div",13),r(24,"Incorrect Answers"),o(),n(25,"div",18),r(26),o()(),n(27,"div",12)(28,"div",13),r(29,"Average Time"),o(),n(30,"div",14),r(31),o()(),n(32,"div",19)(33,"div",13),r(34,"Accuracy"),o(),n(35,"div",14),r(36),o()()(),g(37,A,6,0,"div",20)(38,z,3,0,"div",21)),i&2){let e=v();u(e.isTimedMode()?0:-1),a(6),d(e.sessionStats().totalQuestions),a(5),d(e.sessionStats().correctAnswers),a(5),d(e.sessionStats().fastAnswers),a(5),d(e.sessionStats().slowAnswers),a(5),d(e.sessionStats().incorrectAnswers),a(5),d(e.averageTimeFormatted()),a(5),f("",e.accuracyPercentage(),"%"),a(),u(e.wordsNeedingWork().length>0?37:38)}}function F(i,t){i&1&&(n(0,"div",3)(1,"p"),r(2,"No session statistics available."),o()())}function j(i,t){if(i&1){let e=w();n(0,"button",28),x("click",function(){_(e);let c=v();return E(c.startNextLevel())}),r(1," Next Level \u2192 "),o()}}var I=class i{sightWordStateService=p(O);sightWordProgressService=p(k);router=p(M);sessionStats=this.sightWordStateService.currentSessionStats;currentSet=this.sightWordStateService.currentSet;isTimedMode=m(()=>this.sessionStats()?.mode==="timed");levelName=m(()=>{let t=this.sessionStats();return t?.level?P(t.level).name:"Level 1"});accuracyPercentage=m(()=>{let t=this.sessionStats();return!t||t.totalQuestions===0?0:Math.round(t.correctAnswers/t.totalQuestions*100)});averageTimeFormatted=m(()=>{let t=this.sessionStats();return t?`${Math.round(t.averageTimeMs/1e3)}s`:"0s"});wordsNeedingWork=m(()=>{let t=this.currentSet();return t?this.sightWordStateService.getCardsWithProgress(t).filter(s=>s.weight>1).sort((s,c)=>c.weight-s.weight).slice(0,10):[]});canStartNextLevel=m(()=>{let t=this.sessionStats(),e=this.currentSet();if(!t||t.mode!=="master"||!t.level||!e)return!1;let s=l.findIndex(b=>b.id===t.level);if(s===-1||s>=l.length-1)return!1;let c=this.sightWordProgressService.getSetMastery(e.id);return c?l.findIndex(b=>b.id===c)>=s:!1});getNextLevelId(){let t=this.sessionStats();if(!t?.level)return null;let e=l.findIndex(s=>s.id===t.level);return e===-1||e>=l.length-1?null:l[e+1].id}startNextLevel(){let t=this.currentSet(),e=this.getNextLevelId();t&&e&&(this.sightWordStateService.setExerciseOptions("master",e),this.sightWordStateService.startSession(),this.router.navigate(["/afrikaans/sigwoorde/exercise",t.id]))}startNewSession(){let t=this.currentSet();t?(this.sightWordStateService.startSession(),this.router.navigate(["/afrikaans/sigwoorde/exercise",t.id])):this.router.navigate(["/afrikaans/sigwoorde"])}goToSets(){this.router.navigate(["/afrikaans/sigwoorde"])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["app-afrikaans-summary"]],decls:13,vars:3,consts:[[1,"summary"],[1,"header"],[1,"session-info"],[1,"no-stats"],[1,"actions"],["type","button",1,"action-button","action-button-next-level"],["type","button",1,"action-button","action-button-primary",3,"click"],["type","button",1,"action-button","action-button-secondary",3,"click"],[1,"mode-badge"],[1,"level-badge"],[1,"timed-result"],[1,"stats-container"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"stat-value","stat-correct"],[1,"stat-value","stat-fast"],[1,"stat-value","stat-slow"],[1,"stat-value","stat-incorrect"],[1,"stat-card","stat-card-full"],[1,"needs-work-section"],[1,"all-mastered"],[1,"timed-score"],[1,"timed-label"],[1,"needs-work-list"],[1,"needs-work-item"],[1,"word-text"],[1,"word-weight"],["type","button",1,"action-button","action-button-next-level",3,"click"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"header",1)(2,"h1"),r(3,"Session Summary"),o(),g(4,T,5,6,"div",2),o(),g(5,D,39,9)(6,F,3,0,"div",3),n(7,"div",4),g(8,j,2,0,"button",5),n(9,"button",6),x("click",function(){return s.startNewSession()}),r(10," Start New Session "),o(),n(11,"button",7),x("click",function(){return s.goToSets()}),r(12," Back to Sets "),o()()()),e&2&&(a(4),u(s.sessionStats()?4:-1),a(),u(s.sessionStats()?5:6),a(3),u(s.canStartNextLevel()?8:-1))},styles:[".summary[_ngcontent-%COMP%]{min-height:100vh;min-height:100dvh;padding:1rem;background:var(--bg-primary, #fff);color:var(--text-primary, #333);max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2rem,5vw,3rem);margin:0 0 .75rem;color:var(--text-primary, #333)}.session-info[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.mode-badge[_ngcontent-%COMP%], .level-badge[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;padding:.25rem .75rem;border-radius:1rem;background:var(--badge-bg, #e0e0e0);color:var(--text-primary, #333)}.mode-badge.timed[_ngcontent-%COMP%]{background:var(--timed-bg, #2196f3);color:#fff}.level-badge.ninja[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a1a,#333);color:#fff}.timed-result[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--timed-result-bg, #e3f2fd);border:2px solid var(--timed-result-border, #2196f3);border-radius:.75rem;margin-bottom:2rem}.timed-score[_ngcontent-%COMP%]{font-size:clamp(4rem,15vw,8rem);font-weight:800;color:var(--timed-score-color, #2196f3);line-height:1;margin-bottom:.5rem}.timed-label[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.5rem);color:var(--text-secondary, #666);font-weight:500}.stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{padding:1.5rem;background:var(--card-bg, #f9f9f9);border:2px solid var(--card-border, #e0e0e0);border-radius:.75rem;text-align:center}.stat-card-full[_ngcontent-%COMP%]{grid-column:1/-1}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #666);margin-bottom:.5rem}.stat-value[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2.5rem);font-weight:700;color:var(--text-primary, #333)}.stat-correct[_ngcontent-%COMP%]{color:var(--success-color, #4caf50)}.stat-fast[_ngcontent-%COMP%]{color:var(--fast-color, #2196f3)}.stat-slow[_ngcontent-%COMP%]{color:var(--slow-color, #ff9800)}.stat-incorrect[_ngcontent-%COMP%]{color:var(--error-color, #f44336)}.needs-work-section[_ngcontent-%COMP%]{margin-bottom:2rem}.needs-work-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,1.75rem);margin:0 0 1rem;color:var(--text-primary, #333)}.needs-work-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.75rem}.needs-work-item[_ngcontent-%COMP%]{padding:1rem;background:var(--card-bg, #f9f9f9);border:2px solid var(--card-border, #e0e0e0);border-radius:.5rem;display:flex;justify-content:space-between;align-items:center}.word-text[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--text-primary, #333)}.word-weight[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #666);background:var(--badge-bg, #e0e0e0);padding:.25rem .75rem;border-radius:1rem}.all-mastered[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:var(--success-bg, #e8f5e9);border:2px solid var(--success-border, #4caf50);border-radius:.75rem;margin-bottom:2rem}.all-mastered[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--success-color, #2e7d32);margin:0}.no-stats[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:var(--text-secondary, #666)}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:2rem}.action-button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.5rem;font-size:1rem;font-weight:600;border-radius:.5rem;cursor:pointer;min-height:44px;border:2px solid;transition:all .2s ease}.action-button-primary[_ngcontent-%COMP%]{background:var(--app-afrikaans-accent, #FF9800);color:var(--button-primary-text, #fff);border-color:var(--app-afrikaans-accent, #FF9800)}.action-button-primary[_ngcontent-%COMP%]:hover{background:var(--app-afrikaans-accent-hover, #F57C00)}.action-button-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-primary, #333);border-color:var(--button-secondary-border, #ccc)}.action-button-secondary[_ngcontent-%COMP%]:hover{background:var(--button-secondary-bg, #f0f0f0)}.action-button-next-level[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#f57c00);color:#fff;border-color:#f57c00;font-size:1.125rem}.action-button-next-level[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f57c00,#ef6c00)}@media(prefers-color-scheme:dark){.summary[_ngcontent-%COMP%]{--bg-primary: #1a1a1a;--text-primary: #fff;--text-secondary: #aaa;--card-bg: #2a2a2a;--card-border: #444;--badge-bg: #444;--success-bg: #1b5e20;--success-border: #4caf50;--success-color: #4caf50;--fast-color: #2196f3;--slow-color: #ff9800;--error-color: #f44336;--button-primary-text: #fff;--button-secondary-border: #555;--button-secondary-bg: #333;--timed-bg: #2196f3;--timed-result-bg: #1565c0;--timed-result-border: #2196f3;--timed-score-color: #64b5f6}}"],changeDetection:0})};export{I as SummaryComponent};
